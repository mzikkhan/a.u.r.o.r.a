---
title: "Analyzing Macroeconomic Trends with Aurora"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Analyzing Macroeconomic Trends with Aurora}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  message = FALSE,
  warning = FALSE
)
```

## Introduction

The `aurora` package provides a unified interface for fetching and aligning weather, economic, and global event data into a single daily timeline suitable for macroeconomic analysis.

## Usage

```{r setup}
library(aurora)
```

## Fetching Data

You can fetch a comprehensive dataset for a specific location and date range. Here we look at Ottawa, Canada for January 2024. \> **Note:** API calls are disabled during vignette build (`eval = FALSE`).\
\> Run the code locally to fetch live data.

```{r fetch, eval = FALSE}
# Fetches data from Open-Meteo, FRED, and GDELT
data <- get_macroeconomic_data(
  start_date = "2024-01-01",
  end_date = "2024-01-31",
  latitude = 45.4215,
  longitude = -75.6972
)

head(data)
```

## Output

The returned dataset includes:

-   DATE
-   Weather: avg_temp, max_temp, tot_rain
-   Events: political_unrest_score, natural_disaster_score
-   Economics: interest_rate, mortgage_rate, unemployment, cpi_inflation, gdp, public_debt

## Visualizing Trends

Once you have the data, you can easily plot relationships using `ggplot2`.

```{r plot, eval = FALSE}
library(ggplot2)

ggplot(data, aes(x = DATE)) +
  geom_line(aes(y = avg_temp, color = "Temperature")) +
  geom_line(aes(y = political_unrest_score, color = "Political Unrest")) +
  labs(title = "Temperature vs Political Unrest", y = "Value")
```

## Summary

The `aurora` package provides a unified and resilient pipeline for constructing daily macroeconomic datasets by integrating weather, economic, and global event data.

This enables researchers and analysts to focus on modeling and analysis rather than data collection and preprocessing.
